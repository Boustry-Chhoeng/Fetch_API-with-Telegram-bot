<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Ansonika">
    <title>Allaia | Bootstrap eCommerce Template - ThemeForest</title>
    {% include 'header_style.html' %}
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<div id="page">

    <header class="version_1">
        <div class="layer"></div><!-- Mobile menu overlay mask -->
        <div class="main_nav inner Sticky">
            <div class="container">
                <div class="row small-gutters">
                    <!-- header content here -->
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
            <div class="search_mob_wp">
                <input type="text" class="form-control" placeholder="Search over 10,000 products">
                <input type="submit" class="btn_1 full-width" value="Search">
            </div>
            <!-- /search_mobile -->
        </div>
        <!-- /main_nav -->
    </header>
    <!-- /header -->

    <main class="bg_gray">
        <div class="container margin_30">
            <div class="page_header">
                <div class="breadcrumbs">
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Category</a></li>
                        <li>Page active</li>
                    </ul>
                </div>
                <h1>Please Confirm your order</h1>
            </div>
            <div class="row">
                <div class="col-lg-8">
                    <div class="step first">
                        <h3>1. Fill your Info</h3>
                        <form id="myForm" action="/confirmBooking" method="POST">
                            <input type="hidden" name="p_id" value="{{ product['id'] }}">
                            <div class="tab-content checkout">
                                <div class="tab-pane fade show active" id="tab_1" role="tabpanel"
                                     aria-labelledby="tab_1">
                                    <div class="form-group">
                                        <label for="name">Name</label>
                                        <input type="text" class="form-control" name="name" placeholder="Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="telephone">Telephone</label>
                                        <input type="text" class="form-control" name="telephone"
                                               placeholder="Telephone">
                                    </div>
                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="text" class="form-control" name="email" placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <label for="address">Address</label>
                                        <input type="text" class="form-control" name="address" placeholder="Address">
                                    </div>
                                    <hr>
                                    <button type="button" class="btn btn-primary btn-block"
                                            onclick="showConfirmModal('Are you sure you want to confirm and pay?')">
                                        Confirm and Pay
                                    </button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="step last">
                        <h3>2. Order Summary</h3>
                        <div class="box_general summary">
                            <ul>
                                <li class="clearfix"><em>{{ product['title'] }}</em> <span>{{ product['price'] }}</span>
                                </li>
                            </ul>
                            <ul>
                                <li class="clearfix"><em><strong>Subtotal</strong></em>
                                    <span>{{ product['price'] }}</span></li>
                                <li class="clearfix"><em><strong>Shipping</strong></em> <span>$2</span></li>
                            </ul>
                            <h4><em>TOTAL <span>${{ product['price'] + 2 }}</span></em></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="row">
                <!-- Footer content here -->
            </div>
        </div>
    </footer>
</div>

<div id="toTop"></div>
<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="confirmModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmModalLabel">Confirmation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="confirmModalMessage"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirmModalAction" onclick="submitForm()">Confirm
                </button>
            </div>
        </div>
    </div>
</div>

<!-- jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    function submitForm() {
        $('#myForm').submit();
    }

    function showConfirmModal(message) {
        $('#confirmModalMessage').text(message);
        $('#confirmModal').modal('show');
    };

    document.querySelectorAll('.close, .btn-secondary').forEach(function (button) {
        button.addEventListener('click', function () {
            $('#confirmModal').modal('hide');
        });
    });
</script>

{% include 'footer_script.html' %}
</body>
</html>
